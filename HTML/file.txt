
for(int i=0;i<a.length;i++){
    while(!dq.isEmpty() && dq.peekFirst() <= i-k){
        dq.pollFirst();
    }
    while(!dq.isEmpty() && a[dq.peekLast()] < a[i]){
        dq.pollLast();
    }
    dq.addLast(i);
    if(i >= k-1){
        res.add(a[dq.peekFirst()]);
    }
    return res.stream().mapToInt(i -> i).toArray();
}